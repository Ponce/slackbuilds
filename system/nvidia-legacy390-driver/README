This is the proprietary binary video driver from NVidia for the X.Org
X-server. This package does not include the kernel module - it is a part
of the nvidia-legacy390-kernel package at SlackBuilds.org.

Installing the 32-bit compatibility libraries is available: if desired, do:
  COMPAT32="yes" ./nvidia-legacy390-driver.SlackBuild

GLVND GLX client libraries are now the default. If these cause any
compatibility issues with older GLX sofware, either upgrade your software
or try:
  GLVND="no" ./nvidia-legacy390-driver.SlackBuild

Several useful utilities are included: nvidia-xsettings, nvidia-smi, and
nvidia-settings.  Please refer to the Nvidia documentation and man pages
for details and usage.

For CUDA/OpenCL to work after reboot, and for utilites such as nvidia-smi,
you might need to include the following line in your /etc/rc.d/rc.local:
-------------8<---------------
# Create missing nvidia device nodes after reboot
/usr/bin/nvidia-modprobe -c 0 -u
------------->8---------------

Since this nvidia-legacy390-driver conflicts with some files of xorg, it's
a bit complex to install/uninstall the driver.  However, installation of the
nvidia-legacy390-driver package itself backs up the conflicting files and puts
the nvidia-specific files into place.

Included is a script called nvidia-switch, which is used to switch from
the xorg driver to the nvidia driver, but it will not edit xorg.conf
for you; you have to do that manually.  The nvidia-switch script is
installed to /usr/sbin. NOTE: Although nvidia-switch is aware of a
COMPAT32 environment, its use therein is not supported.

Usage of nvidia-switch:
  nvidia-switch --install  <--> install the nvidia files and save the
                                stock xorg files.
  nvidia-switch --remove   <--> remove the nvidia files and symlinks and
                                restore the stock xorg files.

You do NOT have to run nvidia-switch after installing the package.

Before uninstalling or upgrading this package, it is important that
you execute 'nvidia-switch --remove', which will switch back to the
stock xorg files and remove all links created by nvidia-switch during
installation. If you forget to do this, you might have to do the switch
manually, since 'nvidia-switch --install' may fail, resulting in xorg
not working. Here are the affected files:

  /usr/lib[64]/libGL.so.1.2
  /usr/lib[64]/libGL.la
  /usr/lib[64]/libGLESv1_CM.so.1.0.0
  /usr/lib[64]/libGLESv2.so.2.0.0
  /usr/lib[64]/libEGL.so.1.0.0
  /usr/lib[64]/xorg/modules/libwfb.so
  /usr/lib[64]/xorg/modules/extensions/libglx.so

Simply remove the dead nvidia symlinks and and reinstall the mesa and
xorg-server packages. See 'nvidia-switch --help'.
